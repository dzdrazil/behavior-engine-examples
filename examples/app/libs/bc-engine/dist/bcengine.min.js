define("Engine",["require","lodash"],function(e){function n(){this.parseLoadPairs=[]}var t=e("lodash");return n.prototype={constructor:n,eventBus:null,parseLoadPairs:null,addParserLoaderPair:function(e,t){this.parseLoadPairs.push([e,t])},init:function(e,t){return this.eventBus=t,this.load(this.parse(e))},parse:function(e){return t.map(this.parseLoadPairs,function(t){return t[0].parse(e)})},load:function(e){return t.map(this.parseLoadPairs,function(t,n){t[1].load(e[n],this.eventBus)},this)}},n}),define("parsers/ElementMap",[],function(){function e(){this._values={},this._keys=[]}return e.prototype={constructor:e,_values:null,_keys:null,length:0,add:function(e,t){this._values[e]||(this._values[e]=[],this._keys.push(e),this.length++),this._values[e].push(t)},each:function(e){var t,n;for(t=0;t<this.length;t++)n=this._keys[t],e(n,this._values[n])}},e}),define("parsers/Parser",["require","jquery","./ElementMap"],function(e){function r(){}var t=e("jquery"),n=e("./ElementMap");return r.prototype={constructor:r,attribute:"data-x",parse:function(e){return this._generateElementMap(e.find("["+this.attribute+"]"))},_generateElementMap:function(e){var r=new n,i=this.attribute;return e.each(function(e,n){var s=t(n),o=s.attr(i);r.add(o,s)}),r}},r}),define("parsers/ComponentParser",["require","./Parser"],function(e){function n(){}var t=e("./Parser");return n.prototype=new t,n.prototype.constructor=n,n.prototype.attribute="data-component",n}),define("loaders/Loader",["require","exports","module","lodash","jquery"],function(e,t,n){function s(){}var r=e("lodash"),i=e("jquery");return s.prototype={constructor:s,componentUri:"components/",load:function(t,s){var o=i.Deferred(),u=0,a=t.length,f=n.config().uri||this.componentUri,l=[];return t.each(function(t,n){e([f+t],function(e){u++,r.each(n,function(t){l.push(new e(t,s))}),u===a&&o.resolve(l)})}),o.promise}},s}),define("parsers/BehaviorParser",["require","jquery","./Parser","./ElementMap"],function(e){function i(){}var t=e("jquery"),n=e("./Parser"),r=e("./ElementMap");return i.prototype=new n,i.prototype.constructor=i,i.prototype.attribute="data-behavior",i.prototype._generateElementMap=function(e){var n=new r,i=this.attribute;return e.each(function(e,r){var s=t(r),o=s.attr(i).split("|"),u,a=o.length,f;for(u=0;u<a;u++)f=o[u],n.add(f,s)}),n},i}),define("loaders/BehaviorLoader",["require","exports","module","lodash","jquery","./Loader"],function(e,t,n){function o(){}var r=e("lodash"),i=e("jquery"),s=e("./Loader");return o.prototype=new s,o.prototype.constructor=o,o.prototype.componentUri="behaviors/",o.prototype.load=function(t){var s=i.Deferred(),o=0,u=t.length,a=n.config().uri||this.componentUri,f=[];return s.then(this.initializeBehaviors),t.each(function(t,n){e([a+t+"Behavior"],function(e){o++,r.each(n,function(t){f.push({module:e,$el:t})}),o===u&&s.resolve(f)})}),s.promise},o.prototype.initializeBehaviors=function(e){var t=r.sortBy(e,function(e){return typeof e.module.priority!="number"?1:-e.module.priority});return r.each(t,function(e){e.module.attach(e.$el)}),t},o}),define("BCEngine",["require","./Engine","EventBus","./parsers/ComponentParser","./loaders/Loader","./parsers/BehaviorParser","./loaders/BehaviorLoader"],function(e){function u(){}var t=e("./Engine"),n=e("EventBus"),r=e("./parsers/ComponentParser"),i=e("./loaders/Loader"),s=e("./parsers/BehaviorParser"),o=e("./loaders/BehaviorLoader");return u.prototype=new t,u.prototype.constructor=u,u.prototype.init=function(e){this.addParserLoaderPair(new s,new o),this.addParserLoaderPair(new r,new i),t.prototype.init.call(this,e,new n)},u}),define("bcengine",["./Engine","./BCEngine","./parsers/ElementMap","./parsers/Parser","./parsers/BehaviorParser","./parsers/ComponentParser","./loaders/Loader","./loaders/BehaviorLoader"],function(e,t,n,r,i,s,o,u){return{Engine:e,BCEngine:t,ElementMap:n,Parser:r,BehaviorParser:i,ComponentParser:s,Loader:o,BehaviorLoader:u}});